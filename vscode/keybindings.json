// Place your key bindings in this file to override the defaults
[
    {
        "key": "ctrl+tab",
        "command": "-workbench.action.quickOpenPreviousRecentlyUsedEditorInGroup",
        "when": "!activeEditorGroupEmpty"
    },
    {
        "key": "ctrl+shift+tab",
        "command": "workbench.action.previousEditor"
    },
    {
        "key": "ctrl+tab",
        "command": "workbench.action.nextEditor"
    },
    {
        "key": "ctrl+pageup",
        "command": "-workbench.action.previousEditor"
    },
    //visual mode跟normal mode 用tab indent, 因為vscode vime 無法repeat indent block
    {
        "key": "tab",
        "command": "tab",
        "when": "editorTextFocus && (vim.mode == 'Normal' || vim.mode =~ /^Visual/)"
    },
    {
        "key": "shift+tab",
        "command": "outdent",
        "when": "editorTextFocus && (vim.mode == 'Normal' || vim.mode =~ /^Visual/)"
    },

    // Normal mode
    {
        "key": "ctrl+]",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["]", "m"]
        }
    },
    {
        "key": "ctrl+shift+]",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["]", "M"]
        }
    },
    {
        "key": "ctrl+[",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["[", "m"]
        }
    },
    {
        "key": "ctrl+shift+[",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["[", "M"]
        }
    },
    //3,4 Normal mode
    {
        "key": "ctrl+4",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["]", "m"]
        }
    },
    {
        "key": "ctrl+shift+4",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["]", "M"]
        }
    },
    {
        "key": "ctrl+3",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["[", "m"]
        }
    },
    {
        "key": "ctrl+shift+3",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal'",
        "args": {
            "after": ["[", "M"]
        }
    },
    // 所有 Visual modes
    {
        "key": "ctrl+]",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["]", "m"]
        }
    },
    {
        "key": "ctrl+shift+]",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["]", "M"]
        }
    },
    {
        "key": "ctrl+[",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["[", "m"]
        }
    },
    {
        "key": "ctrl+shift+[",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["[", "M"]
        }
    },


        // 所有 Visual modes, 3,4 navigate function
    {
        "key": "ctrl+4",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["]", "m"]
        }
    },
    {
        "key": "ctrl+shift+4",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["]", "M"]
        }
    },
    {
        "key": "ctrl+3",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["[", "m"]
        }
    },
    {
        "key": "ctrl+shift+3",
        "command": "vim.remap",
        "when": "vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["[", "M"]
        }
    },

        // 選取當前游標所在的整個函數
    {
        "key": "ctrl+h",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal' || vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock' ",
        "args": {
            "after": ["[", "m", "V", "]", "M"]
        }
    },
    {
        "key": "ctrl+g",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal' || vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock' ",
        "args": {
            "after": ["V", "]", "M"]
        }
    },
    {
        "key": "ctrl+6",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal' || vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock' ",
        "args": {
            "after": ["V", "]", "M"]
        }
    },
    {
        "key": "ctrl+5",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal' || vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock' ",
        "args": {
            "after": ["V", "]", "m", "k" ,"k"]
        }
    },
    {
        "key": "ctrl+k ctrl+s",
        "command": "workbench.action.openSettingsJson"
    },
    {
        "key": "ctrl+k ctrl+c",
        "command": "git.openChange"
    },
    {
        "key": "ctrl+k ctrl+o",
        "command": "git.openFile"
    },
    {
        "key": "ctrl+k ctrl+q",
        "command": "editor.action.quickFix",
        "when": "editorHasCodeActionsProvider && textInputFocus && !editorReadonly"
    },
    {
        "key": "ctrl+oem_period",
        "command": "-editor.action.quickFix",
        "when": "editorHasCodeActionsProvider && textInputFocus && !editorReadonly"
    },
    {
        "key": "ctrl+'",
        "command": "vim.remap",
        "when": "vim.mode == 'Normal' || vim.mode == 'Visual' || vim.mode == 'VisualLine' || vim.mode == 'VisualBlock'",
        "args": {
            "after": ["v", "i", "\""]
        }
    },
    {
        "key": "ctrl+k ctrl+h",
        "command": "editor.action.startFindReplaceAction",
        "when": "editorFocus || editorIsOpen"
    },
    {
        "key": "ctrl+h",
        "command": "-editor.action.startFindReplaceAction",
        "when": "editorFocus || editorIsOpen"
    },
    {
        "key": "ctrl+2",
        "command": "workbench.scm.focus"
    },
    {
        "key": "ctrl+1",
        "command": "workbench.explorer.fileView.focus"
    },
    {
        "key": "ctrl+k oem_5",
        "command": "editor.action.inlineSuggest.trigger",
        "when": "config.github.copilot.inlineSuggest.enable && editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"
    },
    {
        "key": "alt+oem_5",
        "command": "-editor.action.inlineSuggest.trigger",
        "when": "config.github.copilot.inlineSuggest.enable && editorTextFocus && !editorHasSelection && !inlineSuggestionsVisible"
    },
    {
        "key": "ctrl+k 2",
        "command": "workbench.action.focusSecondEditorGroup"
    },
    {
        "key": "ctrl+2",
        "command": "-workbench.action.focusSecondEditorGroup"
    },
    {
        "key": "ctrl+k 2",
        "command": "workbench.action.focusFirstEditorGroup"
    },
    // {
    //     "key": "ctrl+1",
    //     "command": "-workbench.action.focusFirstEditorGroup"
    // },
    {
        "key": "ctrl+k ctrl+c",
        "command": "workbench.action.terminal.chat.start",
        "when": "terminalChatAgentRegistered && terminalHasBeenCreated || terminalChatAgentRegistered && terminalProcessSupported"
    },
    {
        "key": "ctrl+k k",
        "command": "editor.action.defineKeybinding",
        "when": "resource == 'vscode-userdata:/c%3A/Users/yulia/AppData/Roaming/Code/User/keybindings.json'"
    },
    {
        "key": "ctrl+k ctrl+k",
        "command": "-editor.action.defineKeybinding",
        "when": "resource == 'vscode-userdata:/c%3A/Users/yulia/AppData/Roaming/Code/User/keybindings.json'"
    },
    {
        "key": "ctrl+k ctrl+k",
        "command": "inlineChat.start",
        "when": "inlineChatHasProvider && inlineChatPossible && !editorReadonly && !editorSimpleInput"
    },
    {
        "key": "ctrl+k ctrl+k",
        "command": "-editor.action.selectFromAnchorToCursor",
        "when": "editorTextFocus && selectionAnchorSet"
    },
    {
        "key": "ctrl+k 1",
        "command": "terminal.focus"
    },
    {
        "key": "ctrl+a",
        "command": "vim.remap",
        "when": "vim.mode == 'Insert'",
        "args": {
            "after": ["<Esc>", "g", "g", "V", "G"]
        }
    },
    {
        "key": "ctrl+m",
        "command": "-extension.vim_ctrl+m",
        "when": "editorTextFocus && vim.active && vim.use<C-m> && !inDebugRepl || vim.active && vim.use<C-m> && !inDebugRepl && vim.mode == 'CommandlineInProgress' || vim.active && vim.use<C-m> && !inDebugRepl && vim.mode == 'SearchInProgressMode'"
    },
    {
        "key": "ctrl+m",
        "command": "-editor.action.toggleTabFocusMode"
    },
    {
        "key": "ctrl+m",
        "command": "workbench.action.toggleMaximizeEditorGroup",
        "when": "editorPartMaximizedEditorGroup || editorPartMultipleEditorGroups"
    },
    {
        "key": "ctrl+k ctrl+m",
        "command": "-workbench.action.toggleMaximizeEditorGroup",
        "when": "editorPartMaximizedEditorGroup || editorPartMultipleEditorGroups"
    },
    {
        "key": "ctrl+k t",
        "command": "-notebook.cell.collapseCellOutput",
        "when": "notebookCellHasOutputs && notebookCellListFocused && !inputFocus && !notebookCellOutputIsCollapsed"
    },
    {
        "key": "ctrl+k t",
        "command": "-notebook.cell.expandCellOutput",
        "when": "notebookCellListFocused && notebookCellOutputIsCollapsed"
    },
    {
        "key": "ctrl+k t",
        "command": "remote-tunnels.connectCurrentWindowToTunnel"
    },
    {
        "key": "ctrl+k m",
        "command": "-notebook.cell.changeLanguage",
        "when": "notebookCellEditable && notebookEditable && notebookEditorFocused"
    },
    {
        "key": "ctrl+k m",
        "command": "-workbench.action.editor.changeLanguageMode",
        "when": "!notebookEditorFocused"
    },
    {
        "key": "ctrl+k m",
        "command": "markdown-preview-enhanced.openPreviewToTheSide",
        "when": "editorLangId == 'markdown'"
    },
    {
        "key": "ctrl+k v",
        "command": "-markdown-preview-enhanced.openPreviewToTheSide",
        "when": "editorLangId == 'markdown'"
    },
    {
        "key": "ctrl+k space",
        "command": "markdown-preview-enhanced.openPreview",
        "when": "editorLangId == 'markdown'"
    },
    {
        "key": "ctrl+shift+v",
        "command": "-markdown-preview-enhanced.openPreview",
        "when": "editorLangId == 'markdown'"
    },
    {
        "key": "ctrl+k oem_1",
        "command": "markdown.showPreview",
        "when": "!notebookEditorFocused && editorLangId =~ /^(markdown|prompt|instructions|chatmode)$/"
    },
    {
        "key": "ctrl+shift+v",
        "command": "-markdown.showPreview",
        "when": "!notebookEditorFocused && editorLangId =~ /^(markdown|prompt|instructions|chatmode)$/"
    }
]